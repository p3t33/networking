/*******************************************************************************
*                              Logger
*                       =====================
* File Name: logger.cpp
* Related files: logger.cpp logger_test.cpp
* #Version: V 1.0
* Writer: Kobi Medrish       
* Created: 24.11.19
* Last update: 24.11.19
*******************************************************************************/


/*============================================================================*/
/*                                  Definitions                               */
/*============================================================================*/
/*                                                      standard  directories */
/*                                                      ~~~~~~~~~~~~~~~~~~~~~ */
#include <iostream>

/*============================================================================*/
/*                                                          local directories */
/*                                                          ~~~~~~~~~~~~~~~~~ */
#include "./include/logger.hpp"

/*============================================================================*/
namespace med
{

/*============================================================================*/
/*                                  Class Logger                              */
/*============================================================================*/
/*                               ~~~~~~~~~~~~~~~~~                            */
/*                               special functions                            */
/*                               ~~~~~~~~~~~~~~~~~                            */
/*                                                         Constructor / ctor */
/*                                                         ~~~~~~~~~~~~~~~~~~ */
Logger::Logger(std::string log_name)
{
    m_log_file.open(log_name, std::ofstream::app);
}
                                                                    
/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*                                                          Destructor / dtor */
/*                                                          ~~~~~~~~~~~~~~~~~ */
Logger::~Logger()
{
    m_log_file.close();
}

/*============================================================================*/
/*                               ~~~~~~~~~~~~~~~~                             */
/*                               member functions                             */
/*                               ~~~~~~~~~~~~~~~~                             */
/*                                                               write_to_log */
/*                                                               ~~~~~~~~~~~~ */
void Logger::write_to_log(const std::string& file_name,
                          const std::string& text,
                          size_t line_number)
{
    m_log_file <<  __DATE__ << ", " << __TIME__ << ", " <<  "line number: " 
               << line_number << ", " << "file name: " << file_name << " "
               << '"' << text << '"' << std::endl;
}

} // namespace med